<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Siesta Sizzlin' - Premium hot sauces inspired by Siesta Key Beach, Florida's #1 beach. Tropical heat meets paradise flavors.">
    <meta name="keywords" content="hot sauce, Siesta Key, Florida, tropical, spicy, beach, gourmet sauce">
    <meta property="og:title" content="Siesta Sizzlin' - Where Paradise Meets Heat">
    <meta property="og:description" content="Premium hot sauces inspired by America's #1 beach. Experience the perfect blend of tropical flavors and fiery heat.">
    <meta property="og:image" content="/images/og-image.jpg">
    
    <!-- Mobile App Capabilities -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#00b8a9">
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <title>Siesta Sizzlin' - Premium Hot Sauce from Siesta Key Beach</title>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    
    <!-- Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Google Maps -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2D6k7M8qHqQMt5tJuKZx9xz3O1vQH2ps&callback=initMap"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-orange: #ff6b35;
            --primary-yellow: #f7b731;
            --primary-teal: #00b8a9;
            --dark-teal: #006a62;
            --sand: #f5e6d3;
            --sunset-pink: #ff6b9d;
            --sunset-purple: #c44569;
            --white: #ffffff;
            --text-dark: #2c3e50;
            --success: #27ae60;
            --error: #e74c3c;
            --vh: 1vh;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5e6d3;
            min-height: 100vh;
            min-height: calc(var(--vh, 1vh) * 100);
            color: var(--text-dark);
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b35 0%, #f7b731 50%, #ff6b9d 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 1s ease;
        }

        .loading-logo {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        /* Header Styles */
        header {
            background: rgba(255, 255, 255, 0.98);
            padding: 1rem 0;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        header.scrolled {
            padding: 0.5rem 0;
            box-shadow: 0 5px 30px rgba(0,0,0,0.15);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 3rem;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            position: relative;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-img {
            width: 180px;
            height: auto;
            position: relative;
            z-index: 2;
        }

        .fire-animation {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 60px;
            pointer-events: none;
            z-index: 1;
            opacity: 0.8;
        }

        .fire-particle {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #ff6b35, #f7b731);
            border-radius: 50%;
            filter: blur(2px);
            animation: fireRise 2s ease-in-out infinite;
        }

        @keyframes fireRise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                transform: translateY(-40px) scale(0);
                opacity: 0;
            }
        }

        .nav-menu {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-menu a {
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-orange);
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        .nav-menu a:hover {
            color: var(--primary-orange);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .cart-btn {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--text-dark);
            transition: transform 0.3s ease;
        }

        .cart-btn:hover {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--primary-orange);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .admin-btn {
            background: linear-gradient(135deg, var(--primary-teal), var(--dark-teal));
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .admin-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.2);
            transition: left 0.3s ease;
        }

        .admin-btn:hover::before {
            left: 100%;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,184,169,0.3);
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            position: relative;
            min-height: 80vh;
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .hero-bg-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.7);
        }

        .sunset-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                rgba(255, 107, 53, 0.3) 0%,
                rgba(247, 183, 49, 0.4) 30%,
                rgba(255, 107, 157, 0.3) 60%,
                rgba(196, 69, 105, 0.4) 100%
            );
            animation: sunsetPulse 10s ease-in-out infinite;
            z-index: 2;
        }

        @keyframes sunsetPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 0.8; }
        }

        .hero-content {
            position: relative;
            z-index: 3;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            text-align: center;
            color: white;
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-tagline {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.3s both;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            animation: fadeInUp 1s ease 0.6s both;
        }

        .cta-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .cta-primary {
            background: linear-gradient(135deg, var(--primary-orange), var(--sunset-pink));
            color: white;
        }

        .cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255,107,53,0.3);
        }

        .cta-secondary {
            background: rgba(255,255,255,0.9);
            color: var(--text-dark);
        }

        .cta-secondary:hover {
            background: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* Features Bar */
        .features-bar {
            background: white;
            padding: 2rem 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }

        .features-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            padding: 0 2rem;
        }

        .feature {
            text-align: center;
            padding: 1rem;
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            animation: bounce 3s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .feature h3 {
            color: var(--dark-teal);
            margin-bottom: 0.5rem;
        }

        /* Products Section */
        .products-section {
            padding: 4rem 0;
            background: linear-gradient(to bottom, #f5e6d3, #fef9f5);
        }

        .section-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 3rem;
            padding: 0 2rem;
        }

        .section-title {
            font-size: 3rem;
            color: var(--dark-teal);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '🔥';
            position: absolute;
            top: -10px;
            right: -40px;
            font-size: 2rem;
            animation: flicker 1.5s ease-in-out infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        .products-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 0 2rem;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary-orange);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 5;
        }

        .product-image {
            width: 100%;
            height: 300px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #ff6b35, #f7b731);
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.1);
        }

        .product-emoji {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 6rem;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        .product-info {
            padding: 2rem;
        }

        .product-name {
            font-size: 1.5rem;
            color: var(--dark-teal);
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .heat-level {
            display: flex;
            gap: 0.25rem;
            margin-bottom: 1rem;
        }

        .heat-level span {
            font-size: 1.2rem;
            filter: grayscale(1) opacity(0.3);
            transition: all 0.3s ease;
        }

        .heat-level span.active {
            filter: grayscale(0) opacity(1);
            animation: flameDance 0.5s ease;
        }

        @keyframes flameDance {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.2) rotate(5deg); }
        }

        .product-description {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-price {
            font-size: 2rem;
            color: var(--primary-orange);
            font-weight: bold;
        }

        .add-to-cart-btn {
            background: linear-gradient(135deg, var(--primary-orange), var(--sunset-pink));
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .add-to-cart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255,107,53,0.3);
        }

        .add-to-cart-btn.added {
            background: var(--success);
        }

        /* Map Section */
        .map-section {
            padding: 4rem 0;
            background: white;
        }

        .map-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        #map {
            width: 100%;
            height: 600px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .map-overlay {
            position: absolute;
            top: 2rem;
            left: 2rem;
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            max-width: 300px;
        }

        .attraction-list {
            margin-top: 1rem;
        }

        .attraction-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .attraction-item:hover {
            color: var(--primary-orange);
        }

        /* Testimonials */
        .testimonials-section {
            padding: 4rem 0;
            background: linear-gradient(135deg, #ff6b35, #f7b731);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .testimonials-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><path d="M0,300 Q300,200 600,300 T1200,300" stroke="white" stroke-width="3" fill="none"/></svg>') repeat-x;
            animation: wave 20s linear infinite;
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-1200px); }
        }

        .testimonials-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .stars {
            color: #ffd700;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .testimonial-author {
            font-weight: bold;
            text-align: right;
        }

        /* Shopping Cart */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 20px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 2000;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            background: var(--dark-teal);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .close-cart:hover {
            transform: rotate(90deg);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 10px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            color: var(--dark-teal);
            margin-bottom: 0.25rem;
        }

        .cart-item-price {
            color: var(--primary-orange);
            font-weight: bold;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .quantity-btn {
            background: #f0f0f0;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: var(--primary-orange);
            color: white;
        }

        .cart-footer {
            padding: 1.5rem;
            border-top: 2px solid #eee;
            background: #f9f9f9;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--dark-teal);
        }

        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--success), #27ae60);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(39,174,96,0.3);
        }

        /* Footer */
        footer {
            background: var(--dark-teal);
            color: white;
            padding: 4rem 0 2rem;
            position: relative;
            overflow: hidden;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-yellow);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
            display: inline-block;
            padding: 0.25rem 0;
        }

        .footer-section a:hover {
            color: var(--primary-yellow);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: var(--primary-yellow);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .payment-method {
            font-size: 2rem;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .payment-method:hover {
            opacity: 1;
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100vh;
            background: #f5f5f5;
            z-index: 5000;
            transition: left 0.3s ease;
            overflow-y: auto;
        }

        .admin-panel.open {
            left: 0;
        }

        .admin-header {
            background: linear-gradient(135deg, var(--dark-teal), var(--primary-teal));
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .admin-nav {
            background: white;
            padding: 1rem;
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .admin-nav-btn {
            background: none;
            border: none;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-dark);
            border-radius: 10px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .admin-nav-btn.active {
            background: var(--primary-teal);
            color: white;
        }

        .admin-content {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            -webkit-overflow-scrolling: touch;
        }

        .admin-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .admin-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-orange), var(--sunset-pink));
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--dark-teal);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .admin-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .admin-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .admin-table th {
            background: var(--dark-teal);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
        }

        .admin-table td {
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }

        .admin-table tr:hover {
            background: #f9f9f9;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin: 0 0.25rem;
            transition: all 0.3s ease;
        }

        .edit-btn {
            background: var(--primary-yellow);
            color: white;
        }

        .delete-btn {
            background: var(--error);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-teal);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary-teal), var(--dark-teal));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,184,169,0.3);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 6000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #666;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: var(--error);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 7000;
        }

        .toast {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            animation: slideInRight 0.3s ease;
            min-width: 300px;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--error);
        }

        .toast.info {
            border-left: 4px solid var(--primary-teal);
        }

        .toast-icon {
            font-size: 1.5rem;
        }

        .toast-message {
            flex: 1;
        }

        .toast-close {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: #666;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-tagline {
                font-size: 1.2rem;
            }
            
            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
            
            .header-content {
                padding: 0 1rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .section-title::after {
                display: none;
            }
        }

        /* Mobile Navigation Bar */
        .mobile-nav-bar {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -2px 20px rgba(0,0,0,0.1);
            z-index: 999;
            padding-bottom: env(safe-area-inset-bottom);
        }

        .mobile-nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 0.5rem 0;
        }

        .mobile-nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #666;
            padding: 0.5rem;
            transition: color 0.3s ease;
        }

        .mobile-nav-item.active {
            color: var(--primary-orange);
        }

        .mobile-nav-icon {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        .mobile-nav-label {
            font-size: 0.75rem;
        }

        @media (max-width: 768px) {
            .mobile-nav-bar {
                display: block;
            }
            
            body {
                padding-bottom: 80px;
            }
            
            .hero {
                margin-top: 60px;
            }
        }

        /* Auth Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 8000;
            align-items: center;
            justify-content: center;
        }

        .auth-modal.active {
            display: flex;
        }

        .auth-content {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .auth-title {
            font-size: 1.5rem;
            color: var(--dark-teal);
            margin-bottom: 1.5rem;
        }

        .auth-input {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
        }

        .auth-button {
            width: 100%;
            padding: 1rem;
            background: var(--primary-teal);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,184,169,0.3);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 100'%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.35em' font-size='24' font-weight='bold' fill='white'%3ESiesta Sizzlin'%3C/text%3E%3C/svg%3E" alt="Loading..." width="200">
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <h2 class="auth-title">Admin Login</h2>
            <form onsubmit="adminLogin(event)">
                <input type="email" class="auth-input" placeholder="Email" id="adminEmail" required>
                <input type="password" class="auth-input" placeholder="Password" id="adminPassword" required>
                <button type="submit" class="auth-button">Login</button>
            </form>
            <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">Demo: admin@siestasizzlin.com / siesta123</p>
        </div>
    </div>

    <!-- Header -->
    <header id="header">
        <div class="header-content">
            <div class="nav-left">
                <a href="#" class="logo">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 150'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23FFD93D' /%3E%3Cstop offset='50%25' style='stop-color:%23FF6B35' /%3E%3Cstop offset='100%25' style='stop-color:%23F7B731' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='150' cy='60' r='50' fill='url(%23grad)' opacity='0.8'/%3E%3Cpath d='M100,80 Q110,40 100,20 Q95,40 90,20 Q85,40 80,20' stroke='%23228B22' stroke-width='4' fill='none'/%3E%3Cellipse cx='90' cy='20' rx='20' ry='30' fill='%23228B22'/%3E%3Ctext x='150' y='120' text-anchor='middle' font-family='Arial, sans-serif' font-size='32' font-weight='bold' fill='%2300b8a9'%3ESiesta Sizzlin'%3C/text%3E%3C/svg%3E" alt="Siesta Sizzlin'" class="logo-img">
                    <div class="fire-animation" id="fireAnimation"></div>
                </a>
                <nav>
                    <ul class="nav-menu">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#find-us">Find Us</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="nav-right">
                <button class="cart-btn" onclick="toggleCart()" aria-label="Shopping cart">
                    🛒
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="admin-btn" id="adminBtn" onclick="openAdminPanel()">Admin</button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-background">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1200&h=800&fit=crop" alt="Siesta Key Beach" class="hero-bg-image" id="heroBgImage" loading="eager">
            <div class="sunset-overlay"></div>
        </div>
        <div class="hero-content">
            <h1>Where Paradise Meets Heat</h1>
            <p class="hero-tagline">Premium hot sauces inspired by America's #1 Beach</p>
            <div class="hero-cta">
                <a href="#products" class="cta-btn cta-primary">Shop Now</a>
                <a href="#about" class="cta-btn cta-secondary">Our Story</a>
            </div>
        </div>
    </section>

    <!-- Features Bar -->
    <div class="features-bar">
        <div class="features-container">
            <div class="feature">
                <span class="feature-icon">🌴</span>
                <h3>Tropical Flavors</h3>
                <p>Inspired by Siesta Key's paradise vibes</p>
            </div>
            <div class="feature">
                <span class="feature-icon">🔥</span>
                <h3>Premium Heat</h3>
                <p>Carefully crafted spice levels</p>
            </div>
            <div class="feature">
                <span class="feature-icon">🏆</span>
                <h3>#1 Beach</h3>
                <p>From America's top-rated beach</p>
            </div>
            <div class="feature">
                <span class="feature-icon">📦</span>
                <h3>Fast Shipping</h3>
                <p>Free delivery on orders over $50</p>
            </div>
        </div>
    </div>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <div class="section-header">
            <h2 class="section-title">Our Hot Sauce Collection</h2>
            <p>Experience the perfect blend of tropical paradise and fiery passion</p>
        </div>
        <div class="products-grid" id="productsGrid">
            <!-- Products will be dynamically loaded here -->
        </div>
    </section>

    <!-- Map Section -->
    <section class="map-section" id="find-us">
        <div class="map-container">
            <div class="section-header">
                <h2 class="section-title">Find Us in Paradise</h2>
                <p>Visit us at Siesta Key Beach and explore the area</p>
            </div>
            <div style="position: relative;">
                <div id="map"></div>
                <div class="map-overlay">
                    <h3>Nearby Attractions</h3>
                    <div class="attraction-list" id="attractionsList">
                        <!-- Attractions will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials-section">
        <div class="testimonials-bg"></div>
        <div class="testimonials-container">
            <div class="section-header" style="color: white;">
                <h2 class="section-title" style="color: white;">What Our Customers Say</h2>
                <p>Real reviews from real heat lovers</p>
            </div>
            <div class="testimonial-grid">
                <div class="testimonial-card">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"The Mango Madness is absolutely incredible! Perfect balance of sweet and heat. Reminds me of sunset at Siesta Beach!"</p>
                    <p class="testimonial-author">- Sarah M.</p>
                </div>
                <div class="testimonial-card">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"Best hot sauce I've ever had! The coconut inferno brings the heat but with such amazing flavor. A must-try!"</p>
                    <p class="testimonial-author">- Mike D.</p>
                </div>
                <div class="testimonial-card">
                    <div class="stars">⭐⭐⭐⭐⭐</div>
                    <p class="testimonial-text">"I buy these by the case! Every flavor is unique and delicious. You can taste the quality and care in every bottle."</p>
                    <p class="testimonial-author">- Jennifer K.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about" style="padding: 4rem 0; background: white;">
        <div class="section-header">
            <h2 class="section-title">Our Story</h2>
            <p>Born from the sun-soaked sands of America's #1 beach</p>
        </div>
        <div style="max-width: 800px; margin: 0 auto; padding: 0 2rem; text-align: center;">
            <p style="font-size: 1.1rem; line-height: 1.8; color: #666; margin-bottom: 2rem;">
                Siesta Sizzlin' was born from a simple idea: capture the essence of Siesta Key Beach in a bottle. 
                Our founder, a longtime resident of this paradise, wanted to share the vibrant flavors and laid-back 
                lifestyle of our beautiful beach town with the world.
            </p>
            <p style="font-size: 1.1rem; line-height: 1.8; color: #666;">
                Every bottle is crafted with locally-sourced ingredients when possible, and infused with the spirit 
                of our crystal-clear waters and powder-white sand. From mild to wild, our sauces bring the heat of 
                a Siesta Key sunset to your table.
            </p>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section" id="contact" style="padding: 4rem 0; background: linear-gradient(to bottom, #f5e6d3, #fef9f5);">
        <div class="section-header">
            <h2 class="section-title">Get in Touch</h2>
            <p>We'd love to hear from you!</p>
        </div>
        <div style="max-width: 600px; margin: 0 auto; padding: 0 2rem;">
            <div style="display: grid; gap: 2rem; text-align: center;">
                <div>
                    <h3 style="color: var(--dark-teal); margin-bottom: 0.5rem;">📍 Visit Us</h3>
                    <p id="contactAddress">123 Beach Road<br>Siesta Key, FL 34242</p>
                </div>
                <div>
                    <h3 style="color: var(--dark-teal); margin-bottom: 0.5rem;">📞 Call Us</h3>
                    <p id="contactPhone">+1 (941) 555-0123</p>
                </div>
                <div>
                    <h3 style="color: var(--dark-teal); margin-bottom: 0.5rem;">✉️ Email Us</h3>
                    <p id="contactEmail">hello@siestasizzlin.com</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Shopping Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2>Shopping Cart</h2>
            <button class="close-cart" onclick="toggleCart()">×</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be dynamically added here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">$0.00</span>
            </div>
            <button class="checkout-btn" onclick="proceedToCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2>Admin Dashboard</h2>
            <button class="close-cart" onclick="closeAdminPanel()">×</button>
        </div>
        <nav class="admin-nav">
            <button class="admin-nav-btn active" onclick="switchAdminTab('dashboard', this)">Dashboard</button>
            <button class="admin-nav-btn" onclick="switchAdminTab('products', this)">Products</button>
            <button class="admin-nav-btn" onclick="switchAdminTab('orders', this)">Orders</button>
            <button class="admin-nav-btn" onclick="switchAdminTab('customers', this)">Customers</button>
            <button class="admin-nav-btn" onclick="switchAdminTab('settings', this)">Settings</button>
        </nav>
        
        <div class="admin-content">
            <!-- Dashboard -->
            <div class="admin-section active" id="dashboardSection">
                <h3>Dashboard Overview</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalRevenue">$0</div>
                        <div class="stat-label">Total Revenue</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalOrders">0</div>
                        <div class="stat-label">Total Orders</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalCustomers">0</div>
                        <div class="stat-label">Customers</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgOrderValue">$0</div>
                        <div class="stat-label">Avg Order Value</div>
                    </div>
                </div>
                
                <h4 style="margin-top: 2rem;">Recent Orders</h4>
                <div class="admin-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="recentOrdersTable">
                            <!-- Orders will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Products Management -->
            <div class="admin-section" id="productsSection">
                <h3>Product Management</h3>
                <button class="submit-btn" onclick="showAddProductModal()" style="margin-bottom: 2rem;">Add New Product</button>
                
                <div class="admin-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Heat Level</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="productsTable">
                            <!-- Products will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Management -->
            <div class="admin-section" id="ordersSection">
                <h3>Order Management</h3>
                <div class="admin-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Items</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTable">
                            <!-- Orders will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Customers -->
            <div class="admin-section" id="customersSection">
                <h3>Customer Management</h3>
                <div class="admin-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Total Orders</th>
                                <th>Total Spent</th>
                                <th>Joined</th>
                            </tr>
                        </thead>
                        <tbody id="customersTable">
                            <!-- Customers will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Settings -->
            <div class="admin-section" id="settingsSection">
                <h3>Store Settings</h3>
                <form onsubmit="saveSettings(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Store Name</label>
                            <input type="text" id="storeName" value="Siesta Sizzlin'">
                        </div>
                        <div class="form-group">
                            <label>Contact Email</label>
                            <input type="email" id="storeEmail" value="hello@siestasizzlin.com">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Phone Number</label>
                            <input type="tel" id="storePhone" value="+1 (941) 555-0123">
                        </div>
                        <div class="form-group">
                            <label>Store Address</label>
                            <input type="text" id="storeAddress" value="123 Beach Road, Siesta Key, FL 34242">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Hero Background Image</label>
                        <input type="file" accept="image/*" onchange="updateHeroImage(event)">
                        <small>Upload a custom background image for the hero section</small>
                    </div>
                    
                    <div class="form-group">
                        <label>Shipping Settings</label>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Free Shipping Threshold</label>
                                <input type="number" id="freeShippingThreshold" value="50" step="0.01">
                            </div>
                            <div class="form-group">
                                <label>Standard Shipping Rate</label>
                                <input type="number" id="standardShipping" value="5.99" step="0.01">
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">Save Settings</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation Bar (Bottom) -->
    <nav class="mobile-nav-bar">
        <div class="mobile-nav-items">
            <a href="#home" class="mobile-nav-item active">
                <span class="mobile-nav-icon">🏠</span>
                <span class="mobile-nav-label">Home</span>
            </a>
            <a href="#products" class="mobile-nav-item">
                <span class="mobile-nav-icon">🌶️</span>
                <span class="mobile-nav-label">Shop</span>
            </a>
            <a href="#about" class="mobile-nav-item">
                <span class="mobile-nav-icon">📖</span>
                <span class="mobile-nav-label">About</span>
            </a>
            <a href="#find-us" class="mobile-nav-item">
                <span class="mobile-nav-icon">📍</span>
                <span class="mobile-nav-label">Map</span>
            </a>
            <a href="#contact" class="mobile-nav-item">
                <span class="mobile-nav-icon">📧</span>
                <span class="mobile-nav-label">Contact</span>
            </a>
        </div>
    </nav>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Siesta Sizzlin'</h3>
                <p>Premium hot sauces inspired by the beauty and culture of Siesta Key Beach, Florida's #1 beach destination.</p>
                <div class="social-links">
                    <a href="#" class="social-link">📘</a>
                    <a href="#" class="social-link">📷</a>
                    <a href="#" class="social-link">🐦</a>
                    <a href="#" class="social-link">📍</a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#products">Shop</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#" onclick="showPrivacyPolicy()">Privacy Policy</a></li>
                    <li><a href="#" onclick="showTermsOfService()">Terms of Service</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Shipping Info</a></li>
                    <li><a href="#">Returns & Exchanges</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Wholesale</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Subscribe for exclusive offers and new product updates!</p>
                <form onsubmit="subscribeNewsletter(event)" style="margin-top: 1rem;">
                    <input type="email" placeholder="Your email" style="padding: 0.5rem; width: 100%; margin-bottom: 0.5rem;" autocomplete="email" inputmode="email">
                    <button type="submit" class="cta-btn cta-primary" style="width: 100%; padding: 0.5rem;">Subscribe</button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Siesta Sizzlin'. All rights reserved. Made with 🌶️ and ❤️ in Siesta Key, FL</p>
            <div class="payment-methods">
                <span class="payment-method">💳</span>
                <span class="payment-method">🏦</span>
                <span class="payment-method">💰</span>
                <span class="payment-method">🔒</span>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('productModal')">×</button>
            <h3 id="modalTitle">Add Product</h3>
            <form onsubmit="saveProduct(event)">
                <div class="form-group">
                    <label>Product Name</label>
                    <input type="text" id="productName" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Price</label>
                        <input type="number" id="productPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Stock</label>
                        <input type="number" id="productStock" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Heat Level (1-5)</label>
                    <input type="number" id="productHeat" min="1" max="5" required>
                </div>
                
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="productDescription" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>Product Image</label>
                    <input type="file" accept="image/*" id="productImage">
                </div>
                
                <input type="hidden" id="editProductId">
                <button type="submit" class="submit-btn">Save Product</button>
            </form>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('checkoutModal')">×</button>
            <h3>Checkout</h3>
            <form onsubmit="processCheckout(event)">
                <h4>Contact Information</h4>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="checkoutEmail" required autocomplete="email" inputmode="email">
                </div>
                
                <h4>Shipping Address</h4>
                <div class="form-row">
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" id="firstName" required autocomplete="given-name">
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" id="lastName" required autocomplete="family-name">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" id="address" required autocomplete="street-address">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" id="city" required autocomplete="address-level2">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" id="state" required autocomplete="address-level1">
                    </div>
                    <div class="form-group">
                        <label>ZIP Code</label>
                        <input type="text" id="zipCode" required autocomplete="postal-code" inputmode="numeric">
                    </div>
                </div>
                
                <h4>Payment Information</h4>
                <div id="card-element" style="padding: 1rem; border: 2px solid #e0e0e0; border-radius: 10px; margin-bottom: 1rem;"></div>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <h4>Order Total: <span id="checkoutTotal">$0.00</span></h4>
                </div>
                
                <button type="submit" class="submit-btn" style="width: 100%;">Complete Purchase</button>
                
                <p style="text-align: center; margin-top: 1rem; color: #666; font-size: 0.9rem;">
                    🔒 Your payment information is secure and encrypted
                </p>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- JavaScript -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBX5HqR3N6vPYk8D2mT7xL9wGjKhQ4M8Zc",
            authDomain: "siesta-sizzlin.firebaseapp.com",
            projectId: "siesta-sizzlin",
            storageBucket: "siesta-sizzlin.appspot.com",
            messagingSenderId: "982736451893",
            appId: "1:982736451893:web:8e9f4a2c3b1d5f6g7h8i9j"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        const storage = firebase.storage();

        // Stripe Configuration
        const stripe = Stripe('pk_test_51OBcDEF2GhIjKlMnOpQrStUvWxYz1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnop');
        const elements = stripe.elements();
        const cardElement = elements.create('card');

        // Global Variables
        let currentUser = null;
        let products = [];
        let cart = [];
        let editingProductId = null;

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async function() {
            // Mount Stripe card element
            cardElement.mount('#card-element');
            
            // Setup auth state listener
            auth.onAuthStateChanged(user => {
                currentUser = user;
                updateUIForAuth();
            });
            
            // Load products from Firestore
            await loadProducts();
            
            // Load cart from session
            loadCartFromSession();
            
            // Initialize components
            createFireAnimation();
            setupEventListeners();
            setupMobileFeatures();
            setupRealtimeListeners();
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 1000);
            }, 1500);
        });

        // Setup realtime listeners for Firestore
        function setupRealtimeListeners() {
            // Listen for product changes
            db.collection('products').onSnapshot(snapshot => {
                products = [];
                snapshot.forEach(doc => {
                    products.push({ id: doc.id, ...doc.data() });
                });
                renderProducts();
                if (document.getElementById('adminPanel').classList.contains('open')) {
                    updateProductsTable();
                }
            });

            // Listen for order changes (admin only)
            auth.onAuthStateChanged(user => {
                if (user) {
                    db.collection('orders').orderBy('date', 'desc').limit(50).onSnapshot(snapshot => {
                        if (document.getElementById('adminPanel').classList.contains('open')) {
                            updateAdminDashboard();
                            updateOrdersTable();
                        }
                    });
                }
            });
        }

        // Load products from Firestore
        async function loadProducts() {
            try {
                const snapshot = await db.collection('products').get();
                products = [];
                snapshot.forEach(doc => {
                    products.push({ id: doc.id, ...doc.data() });
                });
                renderProducts();
            } catch (error) {
                console.error("Error loading products:", error);
                // Load default products if Firestore fails
                loadDefaultProducts();
            }
        }

        // Load default products
        function loadDefaultProducts() {
            products = [
                {
                    id: '1',
                    name: "Original Siesta Sauce",
                    description: "Our signature blend of tropical heat. A perfect balance of habanero peppers, mango, and secret spices that capture the essence of Siesta Key.",
                    price: 9.99,
                    heat: 3,
                    image: 'https://images.unsplash.com/photo-1472476443507-c7f5d3b9b4b1?w=400&h=400&fit=crop',
                    emoji: "🌶️",
                    stock: 50,
                    badge: "Best Seller"
                },
                {
                    id: '2',
                    name: "Mango Madness",
                    description: "Sweet tropical mango meets fiery habanero in this crowd favorite. Like a sunset at Siesta Beach in a bottle.",
                    price: 11.99,
                    heat: 4,
                    image: 'https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=400&h=400&fit=crop',
                    emoji: "🥭",
                    stock: 35,
                    badge: "Fan Favorite"
                },
                {
                    id: '3',
                    name: "Coconut Inferno",
                    description: "Creamy coconut tames the intense heat of ghost peppers. A daring blend for true heat seekers.",
                    price: 13.99,
                    heat: 5,
                    image: 'https://images.unsplash.com/photo-1560769680-ba2f3767c785?w=400&h=400&fit=crop',
                    emoji: "🥥",
                    stock: 25,
                    badge: "Extra Hot"
                },
                {
                    id: '4',
                    name: "Pineapple Paradise",
                    description: "Sweet pineapple with a kick of jalapeño and lime. The perfect companion for fish tacos and tropical dishes.",
                    price: 10.99,
                    heat: 2,
                    image: 'https://images.unsplash.com/photo-1550258987-190a2d41a8ba?w=400&h=400&fit=crop',
                    emoji: "🍍",
                    stock: 40,
                    badge: "Mild & Sweet"
                },
                {
                    id: '5',
                    name: "Key Lime Fire",
                    description: "Tangy key lime with serrano peppers. A citrus explosion that brings the heat of summer.",
                    price: 11.99,
                    heat: 3,
                    image: 'https://images.unsplash.com/photo-1568909344668-6f14a07b56a0?w=400&h=400&fit=crop',
                    emoji: "🍋",
                    stock: 30,
                    badge: "New"
                },
                {
                    id: '6',
                    name: "Sunset Scorcher",
                    description: "Our hottest creation yet! Carolina Reaper meets tropical fruits in this extreme heat experience.",
                    price: 15.99,
                    heat: 5,
                    image: 'https://images.unsplash.com/photo-1606923829435-00f2a0843283?w=400&h=400&fit=crop',
                    emoji: "🔥",
                    stock: 20,
                    badge: "Extreme Heat"
                }
            ];
            renderProducts();
        }

        // Create fire animation
        function createFireAnimation() {
            const fireContainer = document.getElementById('fireAnimation');
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'fire-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.animationDuration = (2 + Math.random() * 2) + 's';
                fireContainer.appendChild(particle);
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Scroll effect for header
            window.addEventListener('scroll', function() {
                const header = document.getElementById('header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const isMobile = window.innerWidth <= 768;
                        const offset = isMobile ? 130 : 80;
                        
                        const targetPosition = target.offsetTop - offset;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                        
                        if (isMobile) {
                            updateMobileNavActive(this.getAttribute('href'));
                        }
                    }
                });
            });
            
            // Update mobile nav active state on scroll
            if (window.innerWidth <= 768) {
                let scrollTimeout;
                window.addEventListener('scroll', function() {
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        updateActiveNavOnScroll();
                    }, 100);
                });
            }
        }

        // Setup mobile-specific features
        function setupMobileFeatures() {
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            
            if (isMobile) {
                document.body.classList.add('mobile-device');
                document.addEventListener('touchstart', function() {}, {passive: true});
                
                let lastTouchEnd = 0;
                document.addEventListener('touchend', function(e) {
                    const now = Date.now();
                    if (now - lastTouchEnd <= 300) {
                        e.preventDefault();
                    }
                    lastTouchEnd = now;
                }, false);
            }
            
            // Viewport height fix
            function setViewportHeight() {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }
            setViewportHeight();
            window.addEventListener('resize', setViewportHeight);
        }

        // Update mobile navigation active state
        function updateMobileNavActive(href) {
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === href) {
                    item.classList.add('active');
                }
            });
        }

        // Update active nav based on scroll
        function updateActiveNavOnScroll() {
            const sections = ['#home', '#products', '#about', '#find-us', '#contact'];
            const scrollPosition = window.scrollY + 150;
            
            for (let section of sections) {
                const element = document.querySelector(section);
                if (element) {
                    const { offsetTop, offsetHeight } = element;
                    if (scrollPosition >= offsetTop && scrollPosition < offsetTop + offsetHeight) {
                        updateMobileNavActive(section);
                        break;
                    }
                }
            }
        }

        // Render products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card">
                    ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                    <div class="product-image">
                        ${product.image 
                            ? `<img src="${product.image}" alt="${product.name}" loading="lazy">` 
                            : `<div class="product-emoji">${product.emoji}</div>`
                        }
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <div class="heat-level">
                            ${generateHeatLevel(product.heat)}
                        </div>
                        <p class="product-description">${product.description}</p>
                        <div class="product-footer">
                            <span class="product-price">$${product.price.toFixed(2)}</span>
                            <button class="add-to-cart-btn" onclick="addToCart('${product.id}')" aria-label="Add ${product.name} to cart">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Generate heat level indicators
        function generateHeatLevel(level) {
            let html = '';
            for (let i = 1; i <= 5; i++) {
                html += `<span class="${i <= level ? 'active' : ''}">🔥</span>`;
            }
            return html;
        }

        // Cart functions
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }

            updateCartUI();
            saveCartToSession();
            showToast('success', `${product.name} added to cart!`);
            
            // Animate button
            event.target.classList.add('added');
            setTimeout(() => {
                event.target.classList.remove('added');
            }, 1000);
        }

        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;

            const cartItemsContainer = document.getElementById('cartItems');
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p style="text-align: center; color: #666;">Your cart is empty</p>';
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        ${item.image 
                            ? `<img src="${item.image}" alt="${item.name}" class="cart-item-image">` 
                            : `<div class="cart-item-image" style="background: linear-gradient(135deg, #ff6b35, #f7b731); display: flex; align-items: center; justify-content: center; font-size: 2rem;">${item.emoji}</div>`
                        }
                        <div class="cart-item-details">
                            <h4 class="cart-item-name">${item.name}</h4>
                            <p class="cart-item-price">$${item.price.toFixed(2)}</p>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="updateQuantity('${item.id}', -1)">-</button>
                                <span>${item.quantity}</span>
                                <button class="quantity-btn" onclick="updateQuantity('${item.id}', 1)">+</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cartTotal').textContent = `$${total.toFixed(2)}`;
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;

            item.quantity += change;
            if (item.quantity <= 0) {
                cart = cart.filter(item => item.id !== productId);
            }

            updateCartUI();
            saveCartToSession();
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            const isOpen = cartSidebar.classList.contains('open');
            
            if (isOpen) {
                cartSidebar.classList.remove('open');
                document.body.style.overflow = '';
                const backdrop = document.querySelector('.cart-backdrop');
                if (backdrop) backdrop.remove();
            } else {
                cartSidebar.classList.add('open');
                if (window.innerWidth <= 768) {
                    document.body.style.overflow = 'hidden';
                    const backdrop = document.createElement('div');
                    backdrop.className = 'cart-backdrop';
                    backdrop.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1999;';
                    backdrop.onclick = toggleCart;
                    document.body.appendChild(backdrop);
                }
            }
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showToast('error', 'Your cart is empty!');
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = total >= 50 ? 0 : 5.99;
            const finalTotal = total + shipping;

            document.getElementById('checkoutTotal').textContent = `$${finalTotal.toFixed(2)}`;
            toggleCart();
            openModal('checkoutModal');
        }

        async function processCheckout(event) {
            event.preventDefault();

            try {
                // Create payment intent
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                
                // Process payment with Stripe (demo mode)
                const { error } = await stripe.createPaymentMethod({
                    type: 'card',
                    card: cardElement
                });

                if (error) {
                    showToast('error', 'Payment failed: ' + error.message);
                    return;
                }

                // Create order in Firestore
                const orderData = {
                    email: document.getElementById('checkoutEmail').value,
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    state: document.getElementById('state').value,
                    zipCode: document.getElementById('zipCode').value,
                    items: cart.map(item => ({
                        id: item.id,
                        name: item.name,
                        price: item.price,
                        quantity: item.quantity
                    })),
                    total: total,
                    status: 'processing',
                    date: firebase.firestore.FieldValue.serverTimestamp()
                };

                await db.collection('orders').add(orderData);

                // Clear cart
                cart = [];
                updateCartUI();
                saveCartToSession();

                closeModal('checkoutModal');
                showToast('success', 'Order placed successfully! Thank you for your purchase.');
            } catch (error) {
                console.error("Checkout error:", error);
                showToast('error', 'Failed to process order. Please try again.');
            }
        }

        // Admin functions
        function openAdminPanel() {
            if (!currentUser) {
                document.getElementById('authModal').classList.add('active');
                return;
            }
            document.getElementById('adminPanel').classList.add('open');
            updateAdminDashboard();
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.remove('open');
        }

        async function adminLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            try {
                await auth.signInWithEmailAndPassword(email, password);
                document.getElementById('authModal').classList.remove('active');
                openAdminPanel();
            } catch (error) {
                showToast('error', 'Invalid credentials!');
            }
        }

        function updateUIForAuth() {
            const adminBtn = document.getElementById('adminBtn');
            if (currentUser) {
                adminBtn.textContent = 'Dashboard';
            } else {
                adminBtn.textContent = 'Admin';
            }
        }

        function switchAdminTab(tab, btn) {
            document.querySelectorAll('.admin-nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            document.querySelectorAll('.admin-section').forEach(section => section.classList.remove('active'));
            document.getElementById(tab + 'Section').classList.add('active');

            if (tab === 'dashboard') updateAdminDashboard();
            if (tab === 'products') updateProductsTable();
            if (tab === 'orders') updateOrdersTable();
            if (tab === 'customers') updateCustomersTable();
        }

        async function updateAdminDashboard() {
            try {
                const ordersSnapshot = await db.collection('orders').get();
                const orders = [];
                ordersSnapshot.forEach(doc => {
                    orders.push({ id: doc.id, ...doc.data() });
                });

                const totalRevenue = orders.reduce((sum, order) => sum + (order.total || 0), 0);
                const totalOrders = orders.length;
                
                const customersSnapshot = await db.collection('orders')
                    .get();
                const uniqueEmails = new Set();
                customersSnapshot.forEach(doc => {
                    uniqueEmails.add(doc.data().email);
                });
                const totalCustomers = uniqueEmails.size;
                
                const avgOrderValue = totalOrders > 0 ? totalRevenue / totalOrders : 0;

                document.getElementById('totalRevenue').textContent = `$${totalRevenue.toFixed(2)}`;
                document.getElementById('totalOrders').textContent = totalOrders;
                document.getElementById('totalCustomers').textContent = totalCustomers;
                document.getElementById('avgOrderValue').textContent = `$${avgOrderValue.toFixed(2)}`;

                // Recent orders
                const recentOrders = orders.slice(-5).reverse();
                const ordersTableBody = document.getElementById('recentOrdersTable');
                ordersTableBody.innerHTML = recentOrders.map(order => `
                    <tr>
                        <td>#${order.id.slice(-6)}</td>
                        <td>${order.firstName} ${order.lastName}</td>
                        <td>$${order.total.toFixed(2)}</td>
                        <td><span style="color: ${getStatusColor(order.status)}">${order.status}</span></td>
                        <td>${order.date ? new Date(order.date.toDate()).toLocaleDateString() : 'N/A'}</td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error("Error updating dashboard:", error);
            }
        }

        function getStatusColor(status) {
            const colors = {
                'processing': '#f39c12',
                'shipped': '#3498db',
                'delivered': '#27ae60',
                'cancelled': '#e74c3c'
            };
            return colors[status] || '#666';
        }

        function updateProductsTable() {
            const tbody = document.getElementById('productsTable');
            tbody.innerHTML = products.map(product => `
                <tr>
                    <td>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            ${product.emoji} ${product.name}
                        </div>
                    </td>
                    <td>$${product.price.toFixed(2)}</td>
                    <td>${product.stock}</td>
                    <td>${generateHeatLevel(product.heat)}</td>
                    <td>
                        <button class="action-btn edit-btn" onclick="editProduct('${product.id}')">Edit</button>
                        <button class="action-btn delete-btn" onclick="deleteProduct('${product.id}')">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        async function updateOrdersTable() {
            try {
                const ordersSnapshot = await db.collection('orders').orderBy('date', 'desc').get();
                const orders = [];
                ordersSnapshot.forEach(doc => {
                    orders.push({ id: doc.id, ...doc.data() });
                });

                const tbody = document.getElementById('ordersTable');
                tbody.innerHTML = orders.map(order => `
                    <tr>
                        <td>#${order.id.slice(-6)}</td>
                        <td>${order.firstName} ${order.lastName}</td>
                        <td>${order.items.length} items</td>
                        <td>$${order.total.toFixed(2)}</td>
                        <td><span style="color: ${getStatusColor(order.status)}">${order.status}</span></td>
                        <td>
                            <select onchange="updateOrderStatus('${order.id}', this.value)" style="padding: 0.25rem;">
                                <option value="processing" ${order.status === 'processing' ? 'selected' : ''}>Processing</option>
                                <option value="shipped" ${order.status === 'shipped' ? 'selected' : ''}>Shipped</option>
                                <option value="delivered" ${order.status === 'delivered' ? 'selected' : ''}>Delivered</option>
                                <option value="cancelled" ${order.status === 'cancelled' ? 'selected' : ''}>Cancelled</option>
                            </select>
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error("Error updating orders table:", error);
            }
        }

        async function updateCustomersTable() {
            try {
                const ordersSnapshot = await db.collection('orders').get();
                const customerMap = new Map();
                
                ordersSnapshot.forEach(doc => {
                    const order = doc.data();
                    const email = order.email;
                    
                    if (customerMap.has(email)) {
                        const customer = customerMap.get(email);
                        customer.totalOrders++;
                        customer.totalSpent += order.total;
                    } else {
                        customerMap.set(email, {
                            email: email,
                            firstName: order.firstName,
                            lastName: order.lastName,
                            totalOrders: 1,
                            totalSpent: order.total,
                            joined: order.date
                        });
                    }
                });

                const customers = Array.from(customerMap.values());
                const tbody = document.getElementById('customersTable');
                tbody.innerHTML = customers.map(customer => `
                    <tr>
                        <td>${customer.firstName} ${customer.lastName}</td>
                        <td>${customer.email}</td>
                        <td>${customer.totalOrders}</td>
                        <td>$${customer.totalSpent.toFixed(2)}</td>
                        <td>${customer.joined ? new Date(customer.joined.toDate()).toLocaleDateString() : 'N/A'}</td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error("Error updating customers table:", error);
            }
        }

        async function updateOrderStatus(orderId, newStatus) {
            try {
                await db.collection('orders').doc(orderId).update({
                    status: newStatus
                });
                showToast('success', 'Order status updated!');
            } catch (error) {
                console.error("Error updating order status:", error);
                showToast('error', 'Failed to update order status');
            }
        }

        // Product management
        function showAddProductModal() {
            editingProductId = null;
            document.getElementById('modalTitle').textContent = 'Add New Product';
            document.getElementById('productName').value = '';
            document.getElementById('productPrice').value = '';
            document.getElementById('productStock').value = '';
            document.getElementById('productHeat').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('productImage').value = '';
            openModal('productModal');
        }

        function editProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            editingProductId = productId;
            document.getElementById('modalTitle').textContent = 'Edit Product';
            document.getElementById('productName').value = product.name;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productStock').value = product.stock;
            document.getElementById('productHeat').value = product.heat;
            document.getElementById('productDescription').value = product.description;
            document.getElementById('editProductId').value = productId;
            openModal('productModal');
        }

        async function saveProduct(event) {
            event.preventDefault();

            const productData = {
                name: document.getElementById('productName').value,
                price: parseFloat(document.getElementById('productPrice').value),
                stock: parseInt(document.getElementById('productStock').value),
                heat: parseInt(document.getElementById('productHeat').value),
                description: document.getElementById('productDescription').value,
                emoji: '🌶️',
                badge: editingProductId ? '' : 'New'
            };

            try {
                const imageInput = document.getElementById('productImage');
                if (imageInput.files[0]) {
                    // Upload image to Firebase Storage
                    const storageRef = storage.ref(`products/${Date.now()}_${imageInput.files[0].name}`);
                    const uploadTask = await storageRef.put(imageInput.files[0]);
                    productData.image = await uploadTask.ref.getDownloadURL();
                }

                if (editingProductId) {
                    await db.collection('products').doc(editingProductId).update(productData);
                    showToast('success', 'Product updated!');
                } else {
                    await db.collection('products').add(productData);
                    showToast('success', 'Product added!');
                }

                closeModal('productModal');
            } catch (error) {
                console.error("Error saving product:", error);
                showToast('error', 'Failed to save product');
            }
        }

        async function deleteProduct(productId) {
            if (confirm('Are you sure you want to delete this product?')) {
                try {
                    await db.collection('products').doc(productId).delete();
                    showToast('success', 'Product deleted!');
                } catch (error) {
                    console.error("Error deleting product:", error);
                    showToast('error', 'Failed to delete product');
                }
            }
        }

        // Settings
        async function saveSettings(event) {
            event.preventDefault();

            const settings = {
                name: document.getElementById('storeName').value,
                email: document.getElementById('storeEmail').value,
                phone: document.getElementById('storePhone').value,
                address: document.getElementById('storeAddress').value,
                freeShippingThreshold: parseFloat(document.getElementById('freeShippingThreshold').value),
                standardShipping: parseFloat(document.getElementById('standardShipping').value)
            };

            try {
                await db.collection('settings').doc('store').set(settings);
                
                // Update contact displays
                document.getElementById('contactPhone').textContent = settings.phone;
                document.getElementById('contactEmail').textContent = settings.email;
                document.getElementById('contactAddress').innerHTML = settings.address.replace(/\n/g, '<br>');
                
                showToast('success', 'Settings saved successfully!');
            } catch (error) {
                console.error("Error saving settings:", error);
                showToast('error', 'Failed to save settings');
            }
        }

        async function updateHeroImage(event) {
            const file = event.target.files[0];
            if (file) {
                try {
                    const storageRef = storage.ref(`hero/${Date.now()}_${file.name}`);
                    const uploadTask = await storageRef.put(file);
                    const imageUrl = await uploadTask.ref.getDownloadURL();
                    
                    document.getElementById('heroBgImage').src = imageUrl;
                    
                    await db.collection('settings').doc('store').update({
                        heroImage: imageUrl
                    });
                    
                    showToast('success', 'Hero image updated!');
                } catch (error) {
                    console.error("Error updating hero image:", error);
                    showToast('error', 'Failed to update hero image');
                }
            }
        }

        // Map functions
        function initMap() {
            const siestaKey = { lat: 27.2669, lng: -82.5453 };
            
            const map = new google.maps.Map(document.getElementById('map'), {
                center: siestaKey,
                zoom: 12,
                styles: [
                    {
                        featureType: "water",
                        elementType: "geometry",
                        stylers: [{ color: "#00b8a9" }]
                    }
                ]
            });

            // Add marker for store location
            new google.maps.Marker({
                position: siestaKey,
                map: map,
                title: 'Siesta Sizzlin\'',
                icon: {
                    path: google.maps.SymbolPath.CIRCLE,
                    scale: 10,
                    fillColor: '#ff6b35',
                    fillOpacity: 0.8,
                    strokeColor: '#ffffff',
                    strokeWeight: 2
                }
            });

            // Add nearby attractions
            const attractions = [
                { name: "Siesta Key Beach", lat: 27.2669, lng: -82.5453 },
                { name: "Siesta Key Village", lat: 27.2708, lng: -82.5457 },
                { name: "Point of Rocks", lat: 27.2514, lng: -82.5374 },
                { name: "Turtle Beach", lat: 27.2225, lng: -82.5128 },
                { name: "Crescent Beach", lat: 27.2589, lng: -82.5406 }
            ];

            const attractionsList = document.getElementById('attractionsList');
            attractions.forEach(attraction => {
                // Add marker
                new google.maps.Marker({
                    position: { lat: attraction.lat, lng: attraction.lng },
                    map: map,
                    title: attraction.name
                });

                // Add to list
                const item = document.createElement('div');
                item.className = 'attraction-item';
                item.innerHTML = `📍 ${attraction.name}`;
                item.onclick = () => {
                    map.setCenter({ lat: attraction.lat, lng: attraction.lng });
                    map.setZoom(15);
                };
                attractionsList.appendChild(item);
            });
        }

        // Utility functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function showToast(type, message) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <span class="toast-icon">${type === 'success' ? '✅' : type === 'error' ? '❌' : 'ℹ️'}</span>
                <span class="toast-message">${message}</span>
                <button class="toast-close" onclick="this.parentElement.remove()">×</button>
            `;
            
            document.getElementById('toastContainer').appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 5000);
        }

        async function subscribeNewsletter(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value;
            
            try {
                await db.collection('newsletter').add({
                    email: email,
                    subscribedAt: firebase.firestore.FieldValue.serverTimestamp()
                });
                showToast('success', 'Thank you for subscribing!');
                event.target.reset();
            } catch (error) {
                console.error("Newsletter subscription error:", error);
                showToast('error', 'Failed to subscribe. Please try again.');
            }
        }

        function showPrivacyPolicy() {
            alert('Privacy Policy:\n\nWe respect your privacy and are committed to protecting your personal information. We collect only necessary information to process orders and improve our services. Your data is never sold to third parties.');
        }

        function showTermsOfService() {
            alert('Terms of Service:\n\nBy using our website, you agree to our terms. All sales are final. Products are shipped within 2-3 business days. For questions, contact hello@siestasizzlin.com');
        }

        // Session storage for cart
        function saveCartToSession() {
            sessionStorage.setItem('siesta_cart', JSON.stringify(cart));
        }

        function loadCartFromSession() {
            const savedCart = sessionStorage.getItem('siesta_cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartUI();
            }
        }

        // Initialize Google Analytics (placeholder)
        function gtag() {
            console.log('Analytics event:', arguments);
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('SW registered:', registration);
                }).catch(error => {
                    console.log('SW registration failed:', error);
                });
            });
        }
    </script>
</body>
</html>